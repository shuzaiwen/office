function countChecked() {
	"all" === checkState && $(".bulk_action input[name='table_records']").iCheck("check"), "none" === checkState && $(".bulk_action input[name='table_records']").iCheck("uncheck");
	var e = $(".bulk_action input[name='table_records']:checked").length;
	e ? ($(".column-title").hide(), $(".bulk-actions").show(), $(".action-cnt").html(e + " Records Selected")) : ($(".column-title").show(), $(".bulk-actions").hide())
}

var toggle = function() {
	$(".list-group-item").click(function() {
		$(this).next(".well").toggle();
		$(this).find(".glyphicon-chevron-right").toggle();
		$(this).find(".glyphicon-chevron-down").toggle();
	})
	if (/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
		//$(".list-group-item:hover").css("cursor","pointer");
	} else {
		//alert("哈哈哈");
		$(".list-group-item").hover(function() {
				$(this).css('background-color', 'rgba(192,192,192,0.15)')
			},
			function() {
				$(this).css('background-color', 'white');
			});
	}
}



var openu9 = function() {
	$("#openu9").click(function() {
		$("#main").load("U9.html", function(responseTxt, statusTxt, xhr) {
			toggle();
			openoa();
			openbi();
			opendd();
			openemail();
			var a = document.body.clientWidth - 70;
			var b = 1.3333333333;
			var c = a / b;
			console.log(a);
			$(".video-area").css("width", a);
			$(".video-area").css("height", c);
		});
	})
}

var openoa = function() {
	$("#oamain").click(function() {
		$("#main").load("oamain.html", function(responseTxt, statusTxt, xhr) {
			toggle();
			openu9();
			openbi();
			opendd();
			openemail();
			var a = document.body.clientWidth - 70;
			var b = 1.3333333333;
			var c = a / b;
			console.log(a);
			$(".video-area").css("width", a);
			$(".video-area").css("height", c);
		});
	})
}

var openbi = function() {
	$("#openbi").click(function() {
		$("#main").load("BI.html", function(responseTxt, statusTxt, xhr) {
			toggle();
			openu9();
			openoa();
			opendd();
			openemail();
			var a = document.body.clientWidth - 70;
			var b = 1.3333333333;
			var c = a / b;
			console.log(a);
			$(".video-area").css("width", a);
			$(".video-area").css("height", c);
		});
	})
}

var opendd = function() {
	$("#opendd").click(function() {
		$("#main").load("dingding.html", function(responseTxt, statusTxt, xhr) {
			toggle();
			openu9();
			openoa();
			openbi();
			openemail();
		});
	})
}

var openemail = function() {
	$("#openemail").click(function() {
		$("#main").load("email.html", function(responseTxt, statusTxt, xhr) {
			toggle();
			openu9();
			openoa();
			openbi();
			opendd();
		});
	})
}

var waypoints = function() {
	//alert("哈哈");
	$("#ico-group").css("left", ((window.screen.width - 1033) / 2) + 42 + "px");

	$("#step div.circle").each(function(index, element) {
		console.log(index);
		$(element).waypoint(function(direction) {
			alert("哈哈");
			if (direction == "up") {
				//if (index == 0) {
				//    $($("#ico-group div").get(index)).css("visibility", "hidden");
				//}

				for (var i = 0; i < $("#ico-group div").length; i++) {
					if (i >= index) {
						$($("#ico-group div").get(i)).css("visibility", "hidden");

					}
					if (i > 0 && i == index) {
						$($("#ico-group div").get(i - 1)).removeClass("gray");
					}
				}

				$(element).css("visibility", "visible");
			} else {
				$(element).css("visibility", "hidden");
				for (var i = 0; i < $("#ico-group div").length; i++) {
					if (i < index) {
						$($("#ico-group div").get(i)).addClass("gray");
					} else if (i == index) {
						$($("#ico-group div").get(i)).css("visibility", "visible");
						$($("#ico-group div").get(i)).removeClass("gray");

					} else {
						$($("#ico-group div").get(i)).css("visibility", "hidden");
					}
				}
			}

			$($("#ico-group div").get(index)).unbind("click").bind("click", function() {
				var _targetTop = $(element).offset().top; //获取位置
				jQuery("html,body").animate({
					scrollTop: _targetTop
				}, 300); //跳转
			});

		}, {
			offset: 0 + index * 32
		});

	});
};
waypoints();

$("#sidebar-menu").load("left.html", function() {
	//waypoints();
	$("#home").parent().addClass("active");
	// $("#main").load("gosuncn2.html", function(responseTxt, statusTxt, xhr) {
	// 	toggle();
	// 	waypoints();
	// });

	$("#home").on("click", function() {
		$("#main").load("gosuncn.html", function(responseTxt, statusTxt, xhr) {
			toggle();
		});
	})

	/*$("#opendd").on("click", function() {
		$("#main").load("dingding.html", function(responseTxt, statusTxt, xhr) {
			toggle();
		});
	})*/

	$("#openoa").on("click", function() {
		$("#main").load("oamain.html", function(responseTxt, statusTxt, xhr) {
			toggle();
			openu9();
			openbi();
			opendd();
			openemail();
			var a = document.body.clientWidth - 70;
			var b = 1.3333333333;
			var c = a / b;
			console.log(a);
			$(".video-area").css("width", a);
			$(".video-area").css("height", c);
			//alert("草泥马")
		});
	})

	$("#openfile").on("click", function() {
		$("#main").load("f.html", function(responseTxt, statusTxt, xhr) {
			if (statusTxt == "success") {

			}
			toggle();
		});
	})

	$("#openprint").on("click", function() {
		$("#main").load("print.html", function(responseTxt, statusTxt, xhr) {
			toggle();
		});
	})

	/*$("#openemail").on("click", function() {
		$("#main").load("email.html", function(responseTxt, statusTxt, xhr) {
			toggle();
		});
	})*/

	$("#openzgs").on("click", function() {
		$("#main").load("zgs.html", function(responseTxt, statusTxt, xhr) {
			toggle();
		});
	})

	$("#openkp").on("click", function() {
		$("#main").load("kp.html", function(responseTxt, statusTxt, xhr) {
			toggle();
		});
	})

	$("#openbsc").on("click", function() {
		$("#main").load("bsc.html", function(responseTxt, statusTxt, xhr) {
			toggle();
		});
	})

	$("#openit").on("click", function() {
		$("#main").load("IT.html", function(responseTxt, statusTxt, xhr) {
			toggle();
		});
	})

	$("#openqywh").on("click", function() {
		$("#main").load("qywh.html", function(responseTxt, statusTxt, xhr) {
			toggle();
		});
	})

	$("#18system").on("click", function() {
		$("#main").load("18system.html", function(responseTxt, statusTxt, xhr) {
			toggle();
		});
	})

	var CURRENT_URL = window.location.href.split("?")[0],
		$BODY = $("body"),
		$MENU_TOGGLE = $("#menu_toggle"),
		$SIDEBAR_MENU = $("#sidebar-menu"),
		$SIDEBAR_FOOTER = $(".sidebar-footer"),
		$LEFT_COL = $(".left_col"),
		$RIGHT_COL = $(".right_col"),
		$NAV_MENU = $(".nav_menu"),
		$FOOTER = $("footer");
	$(document).ready(function() {
			var e = function() {
				$RIGHT_COL.css("min-height", $(window).height());
				$SIDEBAR_MENU.css("min-height", $(window).height());
				//var e = $BODY.outerHeight(),
				//t = $BODY.hasClass("footer_fixed") ? 0 : $FOOTER.height(),
				//n = $LEFT_COL.eq(1).height() + $SIDEBAR_FOOTER.height(),
				//i = n > e ? n : e;
				//i -= $NAV_MENU.height() + t, $RIGHT_COL.css("min-height", i)
			};
			$(window).resize(function() {
				e(); //浏览器窗口大小变化时，调整大小；
			});
			$SIDEBAR_MENU.find("a").on("click", function(t) {
				var n = $(this).parent();
				n.is(".active") ? ( //n.removeClass("active active-sm"), 
					$("ul:first", n).slideUp(function() {
						e()
					})) : (n.parent().is(".child_menu") || ($SIDEBAR_MENU.find("li").removeClass("active active-sm"), $SIDEBAR_MENU.find("li ul").slideUp()), n.addClass("active"), $("ul:first", n).slideDown(function() {
					e()
				}))
			}), $MENU_TOGGLE.on("click", function() {
				$BODY.hasClass("nav-md") ? ($SIDEBAR_MENU.find("li.active ul").hide(), $SIDEBAR_MENU.find("li.active").addClass("active-sm").removeClass("active")) : ($SIDEBAR_MENU.find("li.active-sm ul").show(), $SIDEBAR_MENU.find("li.active-sm").addClass("active").removeClass("active-sm")), $BODY.toggleClass("nav-md nav-sm"), e()
			}), $SIDEBAR_MENU.find('a[href="' + CURRENT_URL + '"]').parent("li").addClass("current-page"), $SIDEBAR_MENU.find("a").filter(function() {
				return this.href == CURRENT_URL
			}).parent("li").addClass("current-page").parents("ul").slideDown(function() {
				e()
			}).parent().addClass("active"), $(window).smartresize(function() {
				e()
			}), e(), $.fn.mCustomScrollbar && $(".menu_fixed").mCustomScrollbar({
				autoHideScrollbar: !0,
				theme: "minimal",
				mouseWheel: {
					preventDefault: !0
				}
			})
		}),
		$(document).ready(function() {
			$(".collapse-link").on("click", function() {
				var e = $(this).closest(".x_panel"),
					t = $(this).find("i"),
					n = e.find(".x_content");
				e.attr("style") ? n.slideToggle(200, function() {
					e.removeAttr("style")
				}) : (n.slideToggle(200), e.css("height", "auto")), t.toggleClass("fa-chevron-up fa-chevron-down")
			}), $(".close-link").click(function() {
				var e = $(this).closest(".x_panel");
				e.remove()
			})
		}),
		$(document).ready(function() {
			$('[data-toggle="tooltip"]').tooltip({
				container: "body"
			})
		}),
		$(".progress .progress-bar")[0] && $(".progress .progress-bar").progressbar(), $(document).ready(function() {
			if ($(".js-switch")[0]) {
				var e = Array.prototype.slice.call(document.querySelectorAll(".js-switch"));
				e.forEach(function(e) {
					new Switchery(e, {
						color: "#26B99A"
					})
				})
			}
		}),
		$(document).ready(function() {
			$("input.flat")[0] && $(document).ready(function() {
				$("input.flat").iCheck({
					checkboxClass: "icheckbox_flat-green",
					radioClass: "iradio_flat-green"
				})
			})
		}),
		$("table input").on("ifChecked", function() {
			checkState = "", $(this).parent().parent().parent().addClass("selected"), countChecked()
		}),
		$("table input").on("ifUnchecked", function() {
			checkState = "", $(this).parent().parent().parent().removeClass("selected"), countChecked()
		});
	var checkState = "";
	$(".bulk_action input").on("ifChecked", function() {
			checkState = "", $(this).parent().parent().parent().addClass("selected"), countChecked()
		}), $(".bulk_action input").on("ifUnchecked", function() {
			checkState = "", $(this).parent().parent().parent().removeClass("selected"), countChecked()
		}), $(".bulk_action input#check-all").on("ifChecked", function() {
			checkState = "all", countChecked()
		}), $(".bulk_action input#check-all").on("ifUnchecked", function() {
			checkState = "none", countChecked()
		}), $(document).ready(function() {
			$(".expand").on("click", function() {
				$(this).next().slideToggle(200), $expand = $(this).find(">:first-child"), "+" == $expand.text() ? $expand.text("-") : $expand.text("+")
			})
		}), "undefined" != typeof NProgress && ($(document).ready(function() {
			NProgress.start()
		}), $(window).load(function() {
			NProgress.done()
		})),
		function(e, t) {
			var n = function(e, t, n) {
				var i;
				return function() {
					function c() {
						n || e.apply(a, o), i = null
					}
					var a = this,
						o = arguments;
					i ? clearTimeout(i) : n && e.apply(a, o), i = setTimeout(c, t || 100)
				}
			};
			jQuery.fn[t] = function(e) {
				return e ? this.bind("resize", n(e)) : this.trigger(t)
			}
		}(jQuery, "smartresize");
}),
$(document).ready(function() {
	$("#main").css("height", $(window).height());
	$("#sidebar-menu").css("height", $(window).height());

});